{"ast":null,"code":"import _regeneratorRuntime from\"/home/caio/Projects/Javascript/trivia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import{MD5}from'crypto-js';function savePlayer(email,name){var hash,gravatarEmail,player;return _regeneratorRuntime.async(function savePlayer$(_context){while(1){switch(_context.prev=_context.next){case 0:hash=MD5(email).toString();gravatarEmail=\"https://www.gravatar.com/avatar/\".concat(hash);player={player:{name:name,gravatarEmail:gravatarEmail,score:0,assertions:0}};localStorage.setItem('state',JSON.stringify(player));case 4:case\"end\":return _context.stop();}}});}var saveQuestions=function saveQuestions(state){return{type:'@QUIZ/SAVEQUESTION',state:state};};function fetchTriviaToken(){return function _callee(dispatch){var response,data,questions,fetchQuestions;return _regeneratorRuntime.async(function _callee$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(fetch('https://opentdb.com/api_token.php?command=request'));case 2:response=_context2.sent;_context2.next=5;return _regeneratorRuntime.awrap(response.json());case 5:data=_context2.sent;localStorage.setItem('token',data.token);_context2.next=9;return _regeneratorRuntime.awrap(fetch(\"https://opentdb.com/api.php?amount=5&token=\".concat(data.token)));case 9:questions=_context2.sent;_context2.next=12;return _regeneratorRuntime.awrap(questions.json());case 12:fetchQuestions=_context2.sent;console.log(fetchQuestions.results);dispatch(saveQuestions(fetchQuestions.results));case 15:case\"end\":return _context2.stop();}}});};}var actions={fetchTriviaToken:fetchTriviaToken,savePlayer:savePlayer};export default actions;/* https://opentdb.com/api.php?amount=${quantidade-de-perguntas-retornadas}&token=${seu-token-aqui}\n\n// Recomendação\nhttps://opentdb.com/api.php?amount=5&token=${seu-token-aqui}\n */","map":{"version":3,"sources":["/home/caio/Projects/Javascript/trivia/src/actions/index.js"],"names":["MD5","savePlayer","email","name","hash","toString","gravatarEmail","player","score","assertions","localStorage","setItem","JSON","stringify","saveQuestions","state","type","fetchTriviaToken","dispatch","fetch","response","json","data","token","questions","fetchQuestions","console","log","results","actions"],"mappings":"mJAAA,OAASA,GAAT,KAAoB,WAApB,CAEA,QAAeC,CAAAA,UAAf,CAA0BC,KAA1B,CAAiCC,IAAjC,oJACQC,IADR,CACeJ,GAAG,CAACE,KAAD,CAAH,CAAWG,QAAX,EADf,CAEQC,aAFR,2CAE2DF,IAF3D,EAGQG,MAHR,CAGiB,CACbA,MAAM,CAAE,CACNJ,IAAI,CAAJA,IADM,CAENG,aAAa,CAAbA,aAFM,CAGNE,KAAK,CAAE,CAHD,CAINC,UAAU,CAAE,CAJN,CADK,CAHjB,CAWEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BC,IAAI,CAACC,SAAL,CAAeN,MAAf,CAA9B,EAXF,8CAcA,GAAMO,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,QAAY,CAAEC,IAAI,CAAE,oBAAR,CAA8BD,KAAK,CAALA,KAA9B,CAAZ,EAAtB,CAEA,QAASE,CAAAA,gBAAT,EAA4B,CAC1B,MAAO,kBAAOC,QAAP,mNACkBC,KAAK,CAAC,mDAAD,CADvB,SACCC,QADD,kEAEcA,QAAQ,CAACC,IAAT,EAFd,SAECC,IAFD,gBAGLZ,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BW,IAAI,CAACC,KAAnC,EAHK,kDAImBJ,KAAK,sDAA+CG,IAAI,CAACC,KAApD,EAJxB,SAICC,SAJD,mEAKwBA,SAAS,CAACH,IAAV,EALxB,UAKCI,cALD,gBAMLC,OAAO,CAACC,GAAR,CAAYF,cAAc,CAACG,OAA3B,EACAV,QAAQ,CAACJ,aAAa,CAACW,cAAc,CAACG,OAAhB,CAAd,CAAR,CAPK,gDAAP,CASD,CAED,GAAMC,CAAAA,OAAO,CAAG,CAAEZ,gBAAgB,CAAhBA,gBAAF,CAAoBhB,UAAU,CAAVA,UAApB,CAAhB,CAEA,cAAe4B,CAAAA,OAAf,CAEA","sourcesContent":["import { MD5 } from 'crypto-js';\n\nasync function savePlayer(email, name) {\n  const hash = MD5(email).toString();\n  const gravatarEmail = `https://www.gravatar.com/avatar/${hash}`;\n  const player = {\n    player: {\n      name,\n      gravatarEmail,\n      score: 0,\n      assertions: 0,\n    },\n  };\n  localStorage.setItem('state', JSON.stringify(player));\n}\n\nconst saveQuestions = (state) => ({ type: '@QUIZ/SAVEQUESTION', state });\n\nfunction fetchTriviaToken() {\n  return async (dispatch) => {\n    const response = await fetch('https://opentdb.com/api_token.php?command=request');\n    const data = await response.json();\n    localStorage.setItem('token', data.token);\n    const questions = await fetch(`https://opentdb.com/api.php?amount=5&token=${data.token}`);\n    const fetchQuestions = await questions.json();\n    console.log(fetchQuestions.results);\n    dispatch(saveQuestions(fetchQuestions.results));\n  };\n}\n\nconst actions = { fetchTriviaToken, savePlayer };\n\nexport default actions;\n\n/* https://opentdb.com/api.php?amount=${quantidade-de-perguntas-retornadas}&token=${seu-token-aqui}\n\n// Recomendação\nhttps://opentdb.com/api.php?amount=5&token=${seu-token-aqui}\n */\n"]},"metadata":{},"sourceType":"module"}