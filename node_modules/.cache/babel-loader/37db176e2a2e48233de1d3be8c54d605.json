{"ast":null,"code":"import { MD5 } from 'crypto-js';\n\nasync function savePlayer(email, name) {\n  const hash = MD5(email).toString();\n  const gravatarEmail = `https://www.gravatar.com/avatar/${hash}`;\n  const player = {\n    player: {\n      name,\n      gravatarEmail,\n      score: 0,\n      assertions: 0\n    }\n  };\n  localStorage.setItem('state', JSON.stringify(player));\n}\n\nconst saveQuestions = state => ({\n  type: '@QUIZ/SAVEQUESTION',\n  state\n});\n\nfunction fetchTriviaToken() {\n  return async dispatch => {\n    const response = await fetch('https://opentdb.com/api_token.php?command=request');\n    const data = await response.json();\n    localStorage.setItem('token', data.token);\n    const questions = await fetch(`https://opentdb.com/api.php?amount=5&token=${data.token}`);\n    const fetchQuestions = await questions.json();\n    console.log(fetchQuestions.results);\n    dispatch(saveQuestions(fetchQuestions.results));\n  };\n}\n\nconst actions = {\n  fetchTriviaToken,\n  savePlayer\n};\nexport default actions;\n/* https://opentdb.com/api.php?amount=${quantidade-de-perguntas-retornadas}&token=${seu-token-aqui}\n\n// Recomendação\nhttps://opentdb.com/api.php?amount=5&token=${seu-token-aqui}\n */","map":{"version":3,"sources":["/home/caio/Projects/Javascript/trivia/src/actions/index.js"],"names":["MD5","savePlayer","email","name","hash","toString","gravatarEmail","player","score","assertions","localStorage","setItem","JSON","stringify","saveQuestions","state","type","fetchTriviaToken","dispatch","response","fetch","data","json","token","questions","fetchQuestions","console","log","results","actions"],"mappings":"AAAA,SAASA,GAAT,QAAoB,WAApB;;AAEA,eAAeC,UAAf,CAA0BC,KAA1B,EAAiCC,IAAjC,EAAuC;AACrC,QAAMC,IAAI,GAAGJ,GAAG,CAACE,KAAD,CAAH,CAAWG,QAAX,EAAb;AACA,QAAMC,aAAa,GAAI,mCAAkCF,IAAK,EAA9D;AACA,QAAMG,MAAM,GAAG;AACbA,IAAAA,MAAM,EAAE;AACNJ,MAAAA,IADM;AAENG,MAAAA,aAFM;AAGNE,MAAAA,KAAK,EAAE,CAHD;AAINC,MAAAA,UAAU,EAAE;AAJN;AADK,GAAf;AAQAC,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeN,MAAf,CAA9B;AACD;;AAED,MAAMO,aAAa,GAAIC,KAAD,KAAY;AAAEC,EAAAA,IAAI,EAAE,oBAAR;AAA8BD,EAAAA;AAA9B,CAAZ,CAAtB;;AAEA,SAASE,gBAAT,GAA4B;AAC1B,SAAO,MAAOC,QAAP,IAAoB;AACzB,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mDAAD,CAA5B;AACA,UAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACAZ,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BU,IAAI,CAACE,KAAnC;AACA,UAAMC,SAAS,GAAG,MAAMJ,KAAK,CAAE,8CAA6CC,IAAI,CAACE,KAAM,EAA1D,CAA7B;AACA,UAAME,cAAc,GAAG,MAAMD,SAAS,CAACF,IAAV,EAA7B;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYF,cAAc,CAACG,OAA3B;AACAV,IAAAA,QAAQ,CAACJ,aAAa,CAACW,cAAc,CAACG,OAAhB,CAAd,CAAR;AACD,GARD;AASD;;AAED,MAAMC,OAAO,GAAG;AAAEZ,EAAAA,gBAAF;AAAoBhB,EAAAA;AAApB,CAAhB;AAEA,eAAe4B,OAAf;AAEA","sourcesContent":["import { MD5 } from 'crypto-js';\n\nasync function savePlayer(email, name) {\n  const hash = MD5(email).toString();\n  const gravatarEmail = `https://www.gravatar.com/avatar/${hash}`;\n  const player = {\n    player: {\n      name,\n      gravatarEmail,\n      score: 0,\n      assertions: 0,\n    },\n  };\n  localStorage.setItem('state', JSON.stringify(player));\n}\n\nconst saveQuestions = (state) => ({ type: '@QUIZ/SAVEQUESTION', state });\n\nfunction fetchTriviaToken() {\n  return async (dispatch) => {\n    const response = await fetch('https://opentdb.com/api_token.php?command=request');\n    const data = await response.json();\n    localStorage.setItem('token', data.token);\n    const questions = await fetch(`https://opentdb.com/api.php?amount=5&token=${data.token}`);\n    const fetchQuestions = await questions.json();\n    console.log(fetchQuestions.results);\n    dispatch(saveQuestions(fetchQuestions.results));\n  };\n}\n\nconst actions = { fetchTriviaToken, savePlayer };\n\nexport default actions;\n\n/* https://opentdb.com/api.php?amount=${quantidade-de-perguntas-retornadas}&token=${seu-token-aqui}\n\n// Recomendação\nhttps://opentdb.com/api.php?amount=5&token=${seu-token-aqui}\n */\n"]},"metadata":{},"sourceType":"module"}